```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                          â•‘
â•‘              ğŸ¯ BUDGET APP - ARCHITECTURE MULTI-PLATEFORME              â•‘
â•‘                                                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          APPLICATIONS CLIENTES                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   FLUTTER APP       â”‚              â”‚   NEXT.JS ADMIN     â”‚
    â”‚   (Utilisateurs)    â”‚              â”‚   (Administrateurs) â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ ğŸ“± Android          â”‚              â”‚ ğŸ’» Web uniquement   â”‚
    â”‚ ğŸ iOS              â”‚              â”‚                     â”‚
    â”‚ ğŸ–¥ï¸  Desktop         â”‚              â”‚ Dashboard           â”‚
    â”‚ ğŸŒ Web              â”‚              â”‚ Users Management    â”‚
    â”‚                     â”‚              â”‚ Analytics           â”‚
    â”‚ Transactions        â”‚              â”‚ Exports (CSV/Excel) â”‚
    â”‚ Budgets             â”‚              â”‚ Admin Actions       â”‚
    â”‚ Objectifs           â”‚              â”‚                     â”‚
    â”‚ Dettes              â”‚              â”‚                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                                    â”‚
               â”‚                                    â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚
                            â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                                   â”‚
            â”‚     ğŸ”¥ FIREBASE BACKEND          â”‚
            â”‚         (PartagÃ©)                â”‚
            â”‚                                   â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚                                   â”‚
            â”‚  ğŸ” Authentication               â”‚
            â”‚     - Email/Password             â”‚
            â”‚     - Custom Claims (admin)      â”‚
            â”‚     - Session Management         â”‚
            â”‚                                   â”‚
            â”‚  ğŸ—„ï¸  Firestore Database          â”‚
            â”‚     - users/                     â”‚
            â”‚     - transactions/              â”‚
            â”‚     - budgets/                   â”‚
            â”‚     - goals/                     â”‚
            â”‚     - admin_logs/                â”‚
            â”‚                                   â”‚
            â”‚  ğŸ“¦ Cloud Storage                â”‚
            â”‚     - Avatars                    â”‚
            â”‚     - Documents                  â”‚
            â”‚     - Exports                    â”‚
            â”‚                                   â”‚
            â”‚  âš¡ Cloud Functions              â”‚
            â”‚     - Notifications              â”‚
            â”‚     - Scheduled Tasks            â”‚
            â”‚     - Data Aggregation           â”‚
            â”‚                                   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          FLUX D'AUTHENTIFICATION                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  UTILISATEUR NORMAL                      ADMINISTRATEUR
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  1. Login via Flutter                    1. Login via Next.js Admin
        â†“                                       â†“
  2. Firebase Auth                        2. Firebase Auth
     email/password                          email/password
        â†“                                       â†“
  3. Custom Claims:                       3. Custom Claims:
     { role: "user" }                        { admin: true, role: "admin" }
        â†“                                       â†“
  4. AccÃ¨s app Flutter                    4. AccÃ¨s panel admin Next.js
     uniquement                              uniquement
        â†“                                       â†“
  5. Firestore Rules                      5. Firestore Rules
     â†’ Lecture/Ã©criture                      â†’ Lecture/Ã©criture complÃ¨te
       de ses donnÃ©es                          de toutes les donnÃ©es


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          FIRESTORE STRUCTURE                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  /users/{userId}
    â”œâ”€â”€ email: string
    â”œâ”€â”€ displayName: string
    â”œâ”€â”€ role: "user" | "admin" | "premium"
    â”œâ”€â”€ isAdmin: boolean
    â”œâ”€â”€ status: "active" | "suspended"
    â”œâ”€â”€ balance: number
    â”œâ”€â”€ createdAt: timestamp
    â””â”€â”€ lastActive: timestamp

  /transactions/{transactionId}
    â”œâ”€â”€ userId: string (ref)
    â”œâ”€â”€ amount: number
    â”œâ”€â”€ type: "income" | "expense" | "transfer"
    â”œâ”€â”€ category: string
    â”œâ”€â”€ date: timestamp
    â””â”€â”€ description: string

  /budgets/{budgetId}
    â”œâ”€â”€ userId: string (ref)
    â”œâ”€â”€ category: string
    â”œâ”€â”€ limit: number
    â”œâ”€â”€ spent: number
    â””â”€â”€ period: "monthly" | "weekly"

  /goals/{goalId}
    â”œâ”€â”€ userId: string (ref)
    â”œâ”€â”€ name: string
    â”œâ”€â”€ targetAmount: number
    â”œâ”€â”€ currentAmount: number
    â”œâ”€â”€ targetDate: timestamp
    â””â”€â”€ status: "active" | "completed"

  /admin_logs/{logId}                     â† Nouveau pour audit
    â”œâ”€â”€ adminId: string (ref)
    â”œâ”€â”€ action: string
    â”œâ”€â”€ targetUserId: string (ref)
    â”œâ”€â”€ details: object
    â””â”€â”€ timestamp: timestamp


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DÃ‰PLOIEMENT TYPIQUE                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ğŸŒ Production URLs
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  app.budget.com              â†’ Flutter Web (Cloudflare Pages / Firebase Hosting)
  admin.budget.com            â†’ Next.js Admin (Vercel / Firebase Hosting)
  api.budget.com              â†’ Cloud Functions (Firebase)

  ğŸ“± Mobile Apps
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  iOS App Store               â†’ Flutter iOS build
  Google Play Store           â†’ Flutter Android build

  ğŸ–¥ï¸  Desktop Apps (Optionnel)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  budget-windows.exe          â†’ Flutter Windows
  budget-macos.dmg            â†’ Flutter macOS
  budget-linux.AppImage       â†’ Flutter Linux


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SÃ‰CURITÃ‰ & PERMISSIONS                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Firestore Rules (simplifiÃ©)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  function isAdmin() {
    return request.auth.token.admin == true ||
           request.auth.token.role == "admin";
  }

  function isOwner(userId) {
    return request.auth.uid == userId;
  }

  match /users/{userId} {
    allow read: if isAdmin() || isOwner(userId);
    allow write: if isAdmin();
  }

  match /transactions/{transactionId} {
    allow read: if isAdmin() ||
                   resource.data.userId == request.auth.uid;
    allow write: if isOwner(resource.data.userId);
  }

  match /admin_logs/{logId} {
    allow read: if isAdmin();
    allow write: if isAdmin();
  }


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DÃ‰VELOPPEMENT LOCAL                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Terminal 1 (Flutter)                   Terminal 2 (Next.js Admin)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  cd /Users/macbook/budget               cd /Users/macbook/budget/admin_panel
  flutter run -d chrome                  npm run dev

  http://localhost:8080                  http://localhost:3000/admin


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          COMMANDES UTILES                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Installation
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ./scripts/setup-admin-panel.sh         # Installer le panel admin

  DÃ©veloppement
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  flutter run -d chrome                   # Lancer l'app Flutter
  cd admin_panel && npm run dev          # Lancer le panel admin

  Admin
  â”€â”€â”€â”€â”€
  node scripts/create-admin.js <email>   # CrÃ©er un compte admin

  Build
  â”€â”€â”€â”€â”€
  flutter build web                       # Build Flutter pour web
  flutter build apk                       # Build Flutter pour Android
  cd admin_panel && npm run build        # Build Next.js

  Firebase
  â”€â”€â”€â”€â”€â”€â”€â”€
  firebase deploy --only firestore       # DÃ©ployer les rules
  firebase deploy --only functions       # DÃ©ployer les functions
  firebase deploy --only hosting         # DÃ©ployer le hosting


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          STATISTIQUES ADMIN                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Dashboard Metrics
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  ğŸ‘¥ Total Utilisateurs        â† count(users)
  âœ… Utilisateurs Actifs       â† count(users where lastActive > 30 days)
  ğŸ’³ Total Transactions        â† count(transactions)
  ğŸ’° Solde Plateforme          â† sum(users.balance)

  ğŸ“Š Graphiques
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  - RÃ©partition par sexe (Pie Chart)
  - Top 6 pays (Bar Chart)
  - Top 5 langues (Bar Chart)
  - Ã‰volution utilisateurs (Line Chart)
  - RÃ©partition transactions (Donut Chart)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    ğŸ“š DOCUMENTATION DISPONIBLE

                    ADMIN_README.md              â† Vous Ãªtes ici
                    ADMIN_QUICK_START.md         â† Guide rapide
                    ADMIN_PANEL_SETUP.md         â† Setup dÃ©taillÃ©
                    ADMIN_USERS_README.md        â† FonctionnalitÃ©s
                    docs/admin-debugging.md      â† Troubleshooting

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    ğŸš€ PRÃŠT Ã€ DÃ‰MARRER ?

                    ./scripts/setup-admin-panel.sh

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```
